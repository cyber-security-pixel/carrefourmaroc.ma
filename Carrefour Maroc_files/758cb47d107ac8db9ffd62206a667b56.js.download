// Editing this file and needing to rebuild the SDKs ? Please read https://www.notion.so/goodays/How-to-rebuild-SDKs-0329cf44a9484c719845e80df43afea8
window.GoodaysSDK=window.GoodaysSDK?window.GoodaysSDK:window.CritizrSDK,window.GoodaysSDK!==void 0&&window.GoodaysSDK._isSetup?typeof console!="undefined"&&console.warn("[GoodaysSDK] SDK has been included multiple times in this page. Only the first inclusion has been taken into account."):!function(e,t,n,a,o,i,r,s,c,d,l,u){function p(e,a,o){for(a=e&&e.nodeType?[e]:""+e===e?t.querySelectorAll(e):e,o=a.length;o--;n.unshift.call(this,a[o]));}function f(e){return RegExp("(^|\\s+)"+e+"(\\s+|$)")}function h(){s("head").append(s.create("link",{rel:"stylesheet",type:"text/css",href:"https://cdn.goodays.co/sdk/"+r.api_key+".css"}))}function m(){var e="ontouchstart"in t.documentElement,n=r.debug==="simulateTouchDevice";(e||n)&&s("body").addClass("cz-touch")}function y(e){return e!==void 0&&e!=null}function v(e){var t="?";for(key in e){var n=e[key];n&&(typeof n=="object"&&(n=JSON.stringify(n)),n=dt(n),n=encodeURIComponent(n),t+=key+"="+n+"&")}return t.substr(0,t.length-1)}function g(e,t,n){var a="&";return e.indexOf("?")==-1&&(a="?"),e+a+t+"="+n}function _(e,t){return widgetId=++rt,urlWithWidgetId=g(e,"widget_id",widgetId),$iframe=s.create("iframe",{"class":t,name:"iframe_goodays",frameborder:0,scrolling:"no",allowTransparency:1,allow:"geolocation;microphone",src:urlWithWidgetId}),$iframe.addEventListener("load",function(e){var t=e.target||e.srcElement;t.src.indexOf("page=")>-1&&t.scrollIntoView()}),ct[widgetId]=$iframe,$iframe}function w(e,t,n){var a=s(t),o=_(e,n);a.parent().replaceChild(o,a)}function b(e){return ct[e][0]}function k(){s.each(e.location.search.substr(1).split("&"),function(e,t){if(t.indexOf("cz")==0){var n=t.match(/([^=,]*)=("[^"]*"|[^"]*)/);if(n!==null){var a=n[1].replace("cz_",""),o=decodeURIComponent(n[2]);r[a]=o,r.cz_params[a]=o}}})}function z(){return typeof GoodaysSDK!="undefined"&&GoodaysSDK!==null&&GoodaysSDK.config!==void 0&&GoodaysSDK.config!==null}function C(){if(z())for(key in GoodaysSDK.config)value=GoodaysSDK.config[key],r[key]=value,r.cz_params[key]=value}function E(){if(e.location.pathname.match("^/m/")){var t=r.cz_params;t.mobile=!0}}function D(e){var t=s(e).attr("data-type");return t||(t="modal:send_feedback"),t}function S(e){var t=s(e).attr("href").match(/[\w\-]+\/$/)[0].replace("/","");return st=t,t}function x(){return st}function K(e){var t={};if((el_version=s(e).attr("data-version"))&&(t.version=el_version),(el_mobile=s(e).attr("data-mobile"))&&(t.mobile=el_mobile),el_params=s(e).attr("data-params")){el_params=JSON.parse(el_params);for(var n in el_params)t[n]=el_params[n]}return t}function G(e,t){var n={"modal:send_feedback":"widgets/"+r.api_key+"/cz/"+t+"/",send_feedback:"widgets/"+r.api_key+"/cz/"+t+"/","modal:send_feedback_internal_id":"widgets/"+r.api_key+"/place/"+t+"/","modal:send_feedback_foursquare_ref":"widgets/"+r.api_key+"/4sq/"+t+"/","modal:send_feedback_partner":"widgets/"+r.api_key+"/partner/"+t+"/","modal:store_locator":"store_locator/"+r.api_key+"/cz/","store_locator:ditesnous":"store_locator/"+r.api_key+"/ditesnous/","modal:store_display":"store_display/"+r.api_key+"/"+t+"/",store_display:"store_display/"+r.api_key+"/"+t+"/",reviews:"store_display/"+r.api_key+"/"+t+"/","store_display:mini":"store_display/"+r.api_key+"/mini/"+t+"/",store:"store_display/"+r.api_key+"/mini/"+t+"/",store_display_national:"store_display/"+r.api_key+"/","modal:store_display_national":"store_display/"+r.api_key+"/","store_display_national:mini":"store_display/"+r.api_key+"/mini/","store_button:fact":"store_button/"+r.api_key+"/fact/"+t+"/","store_button:fact_national":"store_button/"+r.api_key+"/fact/","store_button:rating":"store_button/"+r.api_key+"/rating/"+t+"/","store_button:rating_national":"store_button/"+r.api_key+"/rating_national/","store_button:rating_satisfaction":"store_button/"+r.api_key+"/rating_satisfaction/"+t+"/","store_button:rating_satisfaction_national":"store_button/"+r.api_key+"/rating_satisfaction_national/","store_button:stars":"store_button/"+r.api_key+"/stars/"+t+"/",thread_display:"thread_display/"+r.api_key+"/","modal:thread_display":"thread_display/"+r.api_key+"/",conversation:"thread_display/"+r.api_key+"/"};return n[e]}function P(e,t,n){var a=s.union(r.cz_params,n);return v(a)}function T(e,t,n){var a=G(e,t);if(a!==void 0){var o=P(e,t,n);return r.host+a+o}return void 0}function L(){s("."+r.wClass+",."+r.wClassDeprecated).each($)}function $(e){var t=s(e).attr("data-type");if(t&&t.substring(0,6)!=="modal:"){var n=S(e),a=K(e);w(T(t,n,a),e,"cz-embed")}}function I(e,t){e.setAttribute("style","height:"+t+"px; ")}function A(){l=s("meta[name=viewport]")[0],y(l)&&s(l).remove(),s("head").append(s.create("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}))}function M(){y(u)&&s(u).remove(),y(l)&&s("head").append(s(l))}function N(e,t){$widget=s(e),$widget.attr("style","height:"+t+"px;"),$widget.parent().attr("style","height:"+t+"px;")}function W(n){var a=Math.max(t.documentElement.clientWidth,e.innerWidth||0),o=Math.max(t.documentElement.clientHeight,e.innerHeight||0);550>=a&&($widget=s(n),$widget.attr("style","height:"+o+"px;min-height=0px"),$widget.parent().attr("style","height:"+o+"px;min-height=0px"))}function H(e){switch(e){case"modal:store_display":case"modal:store_display_national":case"modal:thread_display":return"cz-modal-lg"}return""}function O(e,t){var n=s(e);n.parent().hasClass("cz-modal")?N(e,t):I(e,t)}function j(t,n){function a(){var n=t.getBoundingClientRect(),a={viewportInfo:{iframePosition:{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height},windowInnerHeight:e.innerHeight}};t.contentWindow&&t.contentWindow.postMessage(JSON.stringify(a),"*")}a(),e.onresize=a,s("body").hasClass("cz-touch")?e.onscroll=a:n.on("scroll",a)}function q(e,t){var n,a,o,i,r=s("body"),c=s(".cz-modal");lt&&lt.dispatchEvent(new CustomEvent("open")),c.length==0?(A(),n=s.create("div",{"class":"cz-overlay  cz-overlay-cz"}),c=s.create("div",{"class":"cz-modal "+t}),a=s.create("span",{"class":"cz-modal-closer"}).html("&times;"),o=_(e,"cz-frame"),r.append(n),n.append(c),c.append(a),c.append(o),s(".cz-modal").on("click",s.stopPropagation),r.on("keydown",function(e){e.keyCode===27&&J()}),a.on("click",function(){J()}),setTimeout(function(){r.addClass("cz-active")},0),o.on("load",function(){r.addClass("cz-active-loaded"),j(this,n)})):(i=s(".cz-modal .cz-frame"),o=_(e,"cz-frame"),c.removeClass(),c.addClass("cz-modal "+t),c.replaceChild(o,i),r.removeClass("cz-active-loaded"),o.on("load",function(){r.addClass("cz-active-loaded"),j(this,n)}))}function J(){var e=s(".cz-modal .cz-frame")[0];e!==void 0&&e.contentWindow.postMessage("cz:request:close","*")}function R(e){var t=s(e);while(!t.hasClass(r.wClass)&&!t.hasClass(r.wClassDeprecated))t=t.parent();return t[0]}function B(){s("."+r.wClass+",."+r.wClassDeprecated).on("click",function(e){var t=R(e.target||e.srcElement),n=s(t),a=D(n),o=S(n),i=K(n);return q(T(a,o,i),H(a)),s.stopPropagation(e)}),s("."+r.wClass+",."+r.wClassDeprecated).length>0&&(st=S(s("."+r.wClass+",."+r.wClassDeprecated)[0]))}function U(t){e.addEventListener!==void 0?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t)}function V(){U(function(e){var t=e.data;typeof t=="string"?t[0]==="{"?(t=JSON.parse(t),F(t.type,t.params)):F(t,{}):typeof t=="object"&&t.type!==void 0&&F(t.type,t.params)})}function F(e,t){if(typeof e=="string"&&(messageParts=e.split(":"),messagePrefix=messageParts[0],messagePrefix==="cz"))switch(messageType=messageParts[1]){case"open":Y(messageParts,t);break;case"close":Z(messageParts,t);break;case"size":et(messageParts,t);break;case"embed":tt(messageParts,t);break;case"url":nt(messageParts,t);break;case"scroll_down":at(messageParts,t)}}function Q(e,t,n){var a=T(e,t,n);return X(e,n),a?q(a,H(e)):(typeof console!="undefined"&&console.error('[GoodaysSDK] "'+e+'" is not a valid widgetType.'),void 0)}function X(e,t){switch(e){case"modal:send_feedback_partner":if(!("place_info"in t))throw Error("A required field is missing. Please provide the 'place_info' parameter to open '"+e+"'");var n=t.place_info;if(typeof n!="object")throw Error("'place_info' parameter has to be an object");if(!("name"in n&&typeof n.name=="string"&&n.name.length>0&&"address"in n&&typeof n.address=="string"&&n.address.length>0&&"city"in n&&typeof n.city=="string"&&n.city.length>0&&"zipcode"in n&&typeof n.zipcode=="string"&&n.zipcode.length>0&&"lat"in n&&"lon"in n))throw Error("A required field is missing. Please provide ALL the following fields in your 'place_info' object : name, address, city, zipcode, lat, lon");break;default:return!0}return!0}function Y(e,t){var n="modal:send_feedback";e[2]&&(n="modal:"+e[2]);var a=x();e[3]&&(a=e[3]),Q(n,a,t)}function Z(){if(lt&&lt.dispatchEvent(new CustomEvent("close")),M(),s("body").removeClass("cz-active-loaded").removeClass("cz-active"),e.dispatchEvent!==void 0)if(typeof Event=="function")e.dispatchEvent(new Event("resize"));else{var n=t.createEvent("CustomEvent");n.initCustomEvent("resize",!1,!1,void 0),e.dispatchEvent(n)}setTimeout(function(){s(".cz-overlay").remove()},500)}function et(e){var t,n=e[2];n==="mobileonescreen"?(t=s(".cz-frame")[0],W(t)):(t=s(".cz-frame")[0],e[3]&&(t=b(e[3])),O(t,n))}function tt(e){var t=parseInt(e[3]),n=s(".cz-embed")[0];O(n,t)}function nt(t){var n;if(t.length==4){var a=t[2]+":"+t[3];n=a}else{var a=t[2],o=e.location.href.replace(e.location.search,"");o.charAt(o.length-1)!="/"&&(o+="/"),n=o+a}n.trim().toLowerCase().startsWith("javascript:")||(e.location.href=n)}function at(){var e=s(".cz-overlay");e[0].scrollTop=e[0].scrollHeight}function ot(e,t){lt.addEventListener(e,t)}function it(e,t){lt.removeEventListener(e,t)}d=t["add"+o],s=function(e){return/^f/.test(typeof e)?/in/.test(t.readyState)?setTimeout("$("+e+")",9):e():new p(e)},s.each=function(e,t){for(var n=0,a=e.length;a>n;++n)t(n,e[n]);return this},s.isFunction=function(e){return typeof e=="function"},s.create=function(e,n,a){var a=s(t.createElement(e));for(var o in n)a.attr(o,n[o]);return a},s.union=function(){for(var e={},t=0;arguments.length>t;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e},s.stopPropagation=function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,!1},s[a]=p[a]={length:0,on:function(e,t){return this.each(function(n){d?n["add"+o](e,t,!1):n.attachEvent("on"+e,t)})},off:function(e,t){return this.each(function(n){d?n["remove"+o](e,t):n.detachEvent("on"+e,t)})},hasClass:function(e){return f(e).test(this[0].className)},addClass:function(e){return this.each(function(t){s(t).hasClass(e)||(t.className+=" "+e)})},removeClass:function(e){return this.each(function(t){t.className=e===void 0?"":t.className.replace(f(e)," ")})},each:function(e,t){for(var n=this,a=0,o=n.length;o>a;++a)e.call(t||n[a],n[a],a,n);return n},show:function(){return this.each(function(e){e.style.display=""})},hide:function(){return this.each(function(e){e.style.display="none"})},splice:n.splice,append:function(e){return this.each(function(t){t.appendChild(e[0])})},text:function(e){return e===n._?this[0].innerText:this.each(function(t){t.innerText=e})},html:function(e){return e===n._?this[0].innerHTML:this.each(function(t){t.innerHTML=e})},remove:function(){return this.each(function(e){e.parentNode.removeChild(e)})},attr:function(e,t){return t===n._?this[0].getAttribute(e):this.each(function(n){n.setAttribute(e,t)})},removeAttr:function(e){return this.each(function(t){t.removeAttribute(e)})},css:function(e,t){return t===[]._?this[0].style[e]:this.each(function(n){n.style[e]=t})},parent:function(){return 2>this.length?s(this[0].parentNode):[]},replaceChild:function(e,t){this.each(function(n){n.replaceChild(e[0],t[0])})},addEventListener:function(e,t){var n=this[0];n.addEventListener!==void 0?n.addEventListener(e,t,!1):n.attachEvent("on"+e,t)}};var r={wClass:"goodays-widget",wClassDeprecated:"critizr-widget",lang:"fr",api_key:"758cb47d107ac8db9ffd62206a667b56",cz_params:{utm_campaign:"labelvie-hyper",mobile:!1},host:"https://app.goodays.co/",open:!1,debug:!1,customer:{}},rt=0,st=0,ct={},dt=function(){function e(e){return e&&typeof e=="string"&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),e=e.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),n.innerHTML=e,n.textContent===void 0?(e=n.innerText,n.innerText=""):(e=n.textContent,n.textContent="")),e}var n=t.createElement("div");return e}(),lt=new EventTarget;if(h(),C(),k(),E(),m(),L(),B(),V(),e.GoodaysSDK===void 0&&(e.GoodaysSDK={}),e.GoodaysSDK._isSetup=!0,e.GoodaysSDK.open=Q,e.GoodaysSDK.setupEmbeds=L,e.GoodaysSDK.on=ot,e.GoodaysSDK.off=it,e.CritizrSDK=e.GoodaysSDK,r.open){var ut=r.open.split(":"),pt="modal:"+ut[0];G(pt,"")===void 0?setTimeout(function(){e.postMessage("cz:open","*")},0):setTimeout(function(){e.postMessage("cz:open:"+r.open,"*")},0)}}(window,document,[],"prototype","EventListener","postMessage");